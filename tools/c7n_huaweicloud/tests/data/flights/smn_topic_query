interactions:
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Host:
      - smn.ap-southeast-1.myhuaweicloud.com
      User-Agent:
      - huaweicloud-usdk-python/3.0
      X-Project-Id:
      - ap-southeat-1
      X-Sdk-Date:
      - 20250325T113250Z
    method: GET
    uri: https://smn.ap-southeast-1.myhuaweicloud.com/v2/ap-southeat-1/notifications/topics-with-associated-resources?limit=100&offset=0
  response:
    body:
      string: '{"request_id":"faccae76902d4c3193c4e84fcac05797","topic_count":55,"topics":
        [{"topic_id":"d745b6a999a049c09446fea0ecac8f52","topic_urn":"urn:smn:cn-south-1:2284f67d00db4d5896511837ef2f7366:t",
        "display_name":"","name":"t","push_policy":0,"enterprise_project_id":"0","create_time":"2025-03-25T00:31:02Z","update_time":"2025-03-25T00:31:02Z"},
        {"topic_id":"d745b6a999a049c09446fea0ecac8f53","topic_urn":"urn:smn:cn-south-1:2284f67d00db4d5896511837ef2f7366:tt",
        "display_name":"","name":"tt","push_policy":0,"enterprise_project_id":"0","create_time":"2025-03-25T00:31:02Z","update_time":"2025-03-25T00:31:02Z"},
        {"topic_id":"d745b6a999a049c09446fea0ecac8f54","topic_urn":"urn:smn:cn-south-1:2284f67d00db4d5896511837ef2f7366:ttt",
        "display_name":"","name":"ttt","push_policy":0,"enterprise_project_id":"0","create_time":"2025-03-25T00:31:02Z","update_time":"2025-03-25T00:31:02Z",
        "tags":[{"value":"2","key":"b"},{"value":"1","key":"a"}], "attributes":{"access_policy":"{\"Version\":
        \"2016-09-07\", \"Id\": \"__default_policy_ID\", \"Statement\": [ { \"Sid\":
        \"__user_pub_0\", \"Effect\": \"Allow\", \"Principal\": { \"CSP\": [ \"*\",
        \"urn:csp:iam::2284f67d00db4d5896511837ef2f7366:root\" ] }, \"Action\": [
        \"SMN:Publish\", \"SMN:QueryTopicDetail\" ], \"Resource\": \"urn:smn:cn-south-1:2284f67d00db4d5896511837ef2f7366:ttt\"
        }, { \"Sid\": \"__service_pub_0\", \"Effect\": \"Allow\", \"Principal\": {\"Service\":
        [ \"obs\",\"dws\"] }, \"Action\": [ \"SMN:Publish\", \"SMN:QueryTopicDetail\"
        ], \"Resource\": \"urn:smn:cn-south-1:2284f67d00db4d5896511837ef2f7366:ttt\"
        }, { \"Sid\": \"__org_path_pub_0\", \"Effect\": \"Allow\", \"Principal\":
        {\"OrgPath\": [ \"o-bf966fe82ebb4d35d68b791729228788/r-001ebf32880a13eabfc8e1c37eee3ae9/ou-0dbfffe92fd92ddb35feff9b4079459c\"]
        }, \"Action\": [ \"SMN:Publish\", \"SMN:QueryTopicDetail\" ], \"Resource\":
        \"urn:smn:cn-south-1:2284f67d00db4d5896511837ef2f7366:ttt\" } ] }", "create_time":"2025-12-10T12:19:05Z","update_time":"2025-12-11T08:55:55Z"},
        "logtanks":[{"id":"39de74f90d6948d4bbb00172126391de","log_group_id":"61c45a8c-86a7-488b-bc96-87633048ed54","log_stream_id":"de930e25-81ce-41c5-bbc3-cc348c5125ca",
        "create_time":"2025-12-11T16:55:16Z","update_time":"2025-12-11T16:55:16Z"}]}]}'
    headers:
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Tue, 25 Mar 2025 11:32:50 GMT
      Server:
      - api-gateway
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains;
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - SAMEORIGIN
      X-Request-Id:
      - 531c5815fd826b31847a6c08bac55fd6
      X-XSS-Protection:
      - 1; mode=block;
    status:
      code: 200
      message: OK
- request:
    body: '{"value": "{\"Version\": \"2016-09-07\", \"Id\": \"__default_policy_ID\",
      \"Statement\": [{\"Sid\": \"__user_pub_0\", \"Effect\": \"Allow\", \"Principal\":
      {\"CSP\": [\"urn:csp:iam::e5f3a6d5dfbb4a55ba1483b4d15195e1:root\"]}, \"Action\":
      [\"SMN:Publish\", \"SMN:QueryTopicDetail\"], \"Resource\": \"urn:smn:cn-south-1:2284f67d00db4d5896511837ef2f7366:ttt\"},
      {\"Sid\": \"__service_pub_0\", \"Effect\": \"Allow\", \"Principal\": {\"Service\":
      [\"obs\", \"dws\"]}, \"Action\": [\"SMN:Publish\", \"SMN:QueryTopicDetail\"],
      \"Resource\": \"urn:smn:cn-south-1:2284f67d00db4d5896511837ef2f7366:ttt\"},
      {\"Sid\": \"__org_path_pub_0\", \"Effect\": \"Allow\", \"Principal\": {\"OrgPath\":
      [\"o-bf966fe82ebb4d35d68b791729228788/r-001ebf32880a13eabfc8e1c37eee3ae9/ou-0dbfffe92fd92ddb35feff9b4079459c\"]},
      \"Action\": [\"SMN:Publish\", \"SMN:QueryTopicDetail\"], \"Resource\": \"urn:smn:cn-south-1:2284f67d00db4d5896511837ef2f7366:ttt\"}]}"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '928'
      Content-Type:
      - application/json;charset=utf-8
      Host:
      - smn.ap-southeast-1.myhuaweicloud.com
      User-Agent:
      - huaweicloud-usdk-python/3.0; os/Windows#10.0.20348#AMD64 python/3.13.2 impl/CPython;
        app/226b5659-5db3-40c1-a14f-389e297c275c
      X-Project-Id:
      - ap-southeat-1
      X-Sdk-Date:
      - 20251211T092000Z
    method: PUT
    uri: https://smn.ap-southeast-1.myhuaweicloud.com/v2/ap-southeat-1/notifications/topics/urn%3Asmn%3Acn-south-1%3A2284f67d00db4d5896511837ef2f7366%3Attt/attributes/access_policy
  response:
    body:
      string: '{"request_id":"ab7be5401c9282095fe20ce0c726b53d"}'
    headers:
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Thu, 11 Dec 2025 09:20:00 GMT
      Server:
      - api-gateway
      Strict-Transport-Security:
      - max-age=31536000; includeSubdomains;
      Transfer-Encoding:
      - chunked
      X-Content-Type-Options:
      - nosniff
      X-Download-Options:
      - noopen
      X-Frame-Options:
      - SAMEORIGIN
      X-Request-Id:
      - ab7be5401c9282095fe20ce0c726b53d
      X-XSS-Protection:
      - 1; mode=block;
    status:
      code: 200
      message: OK
version: 1
